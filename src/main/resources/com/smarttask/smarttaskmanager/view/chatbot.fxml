<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="600.0" prefWidth="900.0" style="-fx-background-color: #f8f9fa;"
            xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.smarttask.smarttaskmanager.controller.ChatbotController">

    <left>
        <VBox prefWidth="220.0" spacing="10.0" style="-fx-background-color: linear-gradient(to bottom right, #4A00E0, #8E2DE2); -fx-padding: 20; -fx-background-radius: 0 30 30 0;">
            <effect>
                <DropShadow color="rgba(0,0,0,0.25)" radius="15" width="20" />
            </effect>

            <Label text="SmartManager" textFill="WHITE">
                <font><Font name="System Bold" size="18.0" /></font>
                <effect><DropShadow color="rgba(0,0,0,0.3)" offsetY="1" radius="2" /></effect>
            </Label>

            <Separator opacity="0.3" style="-fx-background-color: white;" />

            <VBox spacing="8.0" VBox.vgrow="ALWAYS">
                <Button maxWidth="Infinity" onAction="#goToDashboard" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-weight: bold; -fx-cursor: hand; -fx-padding: 8 10;" text="Dashboard" />
                <Button maxWidth="Infinity" onAction="#goToTasks" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-weight: bold; -fx-cursor: hand; -fx-padding: 8 10;" text="My Tasks" />
                <Button maxWidth="Infinity" onAction="#goToCalendar" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-weight: bold; -fx-cursor: hand; -fx-padding: 8 10;" text="Calendar" />

                <Button maxWidth="Infinity" style="-fx-background-color: rgba(255,255,255,0.2); -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-weight: bold; -fx-background-radius: 10; -fx-cursor: hand; -fx-padding: 8 10;" text="AI Assistant" />

                <Button maxWidth="Infinity" onAction="#goToProfile" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-alignment: CENTER_LEFT; -fx-font-weight: bold; -fx-cursor: hand; -fx-padding: 8 10;" text="Profile" />
            </VBox>

            <Button maxWidth="Infinity" onAction="#handleLogout" style="-fx-background-color: rgba(255, 69, 58, 0.9); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10; -fx-cursor: hand; -fx-padding: 8;" text="Logout" />
        </VBox>
    </left>

    <center>
        <VBox alignment="TOP_CENTER" spacing="20.0" style="-fx-padding: 30;">

            <VBox alignment="TOP_CENTER" maxWidth="700.0" prefHeight="550.0" style="-fx-background-color: white; -fx-background-radius: 20; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 15, 0, 0, 8);">

                <VBox alignment="CENTER" prefHeight="70.0" style="-fx-background-color: #512da8; -fx-background-radius: 20 20 0 0;">
                    <Label text="AI Productivity Assistant" textFill="WHITE">
                        <font><Font name="System Bold" size="20.0" /></font>
                    </Label>
                </VBox>

                <TextArea fx:id="chatArea" editable="false" prefHeight="400.0" wrapText="true" VBox.vgrow="ALWAYS"
                          style="-fx-control-inner-background: #ffffff; -fx-font-size: 14px; -fx-border-color: transparent; -fx-background-color: transparent; -fx-padding: 10;">
                    <VBox.margin><Insets left="10.0" right="10.0" top="10.0" /></VBox.margin>
                </TextArea>

                <HBox alignment="CENTER" prefHeight="80.0" spacing="15.0" style="-fx-background-color: #f1f2f6; -fx-background-radius: 0 0 20 20; -fx-padding: 15;">
                    <TextField fx:id="chatInput" onAction="#handleSendMessage" HBox.hgrow="ALWAYS" prefHeight="45.0"
                               promptText="Ask me anything about your tasks..."
                               style="-fx-background-radius: 25; -fx-padding: 0 20; -fx-border-color: #512da8; -fx-border-radius: 25; -fx-background-color: white;" />

                    <Button mnemonicParsing="false" onAction="#handleSendMessage" prefHeight="45.0" prefWidth="100.0"
                            style="-fx-background-color: #512da8; -fx-background-radius: 25; -fx-cursor: hand; -fx-text-fill: white; -fx-font-weight: bold;"
                            text="Send" />
                </HBox>
            </VBox>

        </VBox>
    </center>

</BorderPane>